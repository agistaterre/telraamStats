<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Learn how to visualize and analyse traffic data from Telraam cameras.">
<title>Visualize and analyse traffic • telraamStats</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Visualize and analyse traffic">
<meta property="og:description" content="Learn how to visualize and analyse traffic data from Telraam cameras.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary" data-bs-theme="dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">telraamStats</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/data-details.html">Gathering data</a>
    <a class="dropdown-item" href="../articles/data-visualization.html">Visualize and analyse traffic</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/KetsiaGuichard/telraamStats/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Visualize and analyse traffic</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/KetsiaGuichard/telraamStats/blob/HEAD/vignettes/data-visualization.Rmd" class="external-link"><code>vignettes/data-visualization.Rmd</code></a></small>
      <div class="d-none name"><code>data-visualization.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This vignette illustrates the potential visualizations (and the
ensuing analysis) of traffic data from Telraam sensors provided by the
package.</p>
<p>Before we go on, we’ll attach the packages we use.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://annuaire.agistaterre.org/telraamStats/" class="external-link">telraamStats</a></span><span class="op">)</span></span></code></pre></div>
<p>We will also load the data: here, we will use the dataset attached to
the package, but you can certainly replicate these visualizations and
analyses using data from your own sensors. For more information on data
retrieval, you can refer to the dedicated vignette
(<code><a href="../articles/data-details.html">vignette("data-details")</a></code>).</p>
<p>Included dataset is lazily loaded with the telraamStats package. If
you have already called <code><a href="https://annuaire.agistaterre.org/telraamStats/" class="external-link">library(telraamStats)</a></code>, the dataset
is already attached and you can call it directly :</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">traffic</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="2%">
<col width="6%">
<col width="2%">
<col width="5%">
<col width="2%">
<col width="1%">
<col width="1%">
<col width="0%">
<col width="1%">
<col width="2%">
<col width="2%">
<col width="2%">
<col width="1%">
<col width="1%">
<col width="2%">
<col width="2%">
<col width="3%">
<col width="3%">
<col width="2%">
<col width="6%">
<col width="18%">
<col width="3%">
<col width="0%">
<col width="2%">
<col width="1%">
<col width="2%">
<col width="1%">
<col width="4%">
<col width="3%">
<col width="3%">
</colgroup>
<thead><tr class="header">
<th align="right">instance_id</th>
<th align="left">segment_fullname</th>
<th align="right">segment_id</th>
<th align="left">date</th>
<th align="left">interval</th>
<th align="right">uptime</th>
<th align="right">heavy</th>
<th align="right">car</th>
<th align="right">bike</th>
<th align="right">pedestrian</th>
<th align="right">heavy_lft</th>
<th align="right">heavy_rgt</th>
<th align="right">car_lft</th>
<th align="right">car_rgt</th>
<th align="right">bike_lft</th>
<th align="right">bike_rgt</th>
<th align="right">pedestrian_lft</th>
<th align="right">pedestrian_rgt</th>
<th align="right">direction</th>
<th align="left">car_speed_hist_0to70plus</th>
<th align="left">car_speed_hist_0to120plus</th>
<th align="left">timezone</th>
<th align="right">v85</th>
<th align="left">day</th>
<th align="right">hour</th>
<th align="left">weekday</th>
<th align="left">holiday</th>
<th align="left">vacation</th>
<th align="left">segment_name</th>
<th align="left">uptime_quality</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">-1</td>
<td align="left">9000001844 - RteVitre-06</td>
<td align="right">9000001844</td>
<td align="left">2022-01-01 01:00:00 CET</td>
<td align="left">hourly</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">0, 0, 0, 0, 0, 0, 0, 0</td>
<td align="left">0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0</td>
<td align="left">Europe/Paris</td>
<td align="right">NA</td>
<td align="left">2022-01-01</td>
<td align="right">1</td>
<td align="left">saturday</td>
<td align="left">TRUE</td>
<td align="left">Vacances de Noël</td>
<td align="left">RteVitre-06</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="right">-1</td>
<td align="left">9000001844 - RteVitre-06</td>
<td align="right">9000001844</td>
<td align="left">2022-01-01 02:00:00 CET</td>
<td align="left">hourly</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">0, 0, 0, 0, 0, 0, 0, 0</td>
<td align="left">0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0</td>
<td align="left">Europe/Paris</td>
<td align="right">NA</td>
<td align="left">2022-01-01</td>
<td align="right">2</td>
<td align="left">saturday</td>
<td align="left">TRUE</td>
<td align="left">Vacances de Noël</td>
<td align="left">RteVitre-06</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="right">-1</td>
<td align="left">9000001844 - RteVitre-06</td>
<td align="right">9000001844</td>
<td align="left">2022-01-01 03:00:00 CET</td>
<td align="left">hourly</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">0, 0, 0, 0, 0, 0, 0, 0</td>
<td align="left">0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0</td>
<td align="left">Europe/Paris</td>
<td align="right">NA</td>
<td align="left">2022-01-01</td>
<td align="right">3</td>
<td align="left">saturday</td>
<td align="left">TRUE</td>
<td align="left">Vacances de Noël</td>
<td align="left">RteVitre-06</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="right">-1</td>
<td align="left">9000001844 - RteVitre-06</td>
<td align="right">9000001844</td>
<td align="left">2022-01-01 04:00:00 CET</td>
<td align="left">hourly</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">0, 0, 0, 0, 0, 0, 0, 0</td>
<td align="left">0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0</td>
<td align="left">Europe/Paris</td>
<td align="right">NA</td>
<td align="left">2022-01-01</td>
<td align="right">4</td>
<td align="left">saturday</td>
<td align="left">TRUE</td>
<td align="left">Vacances de Noël</td>
<td align="left">RteVitre-06</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="right">-1</td>
<td align="left">9000001844 - RteVitre-06</td>
<td align="right">9000001844</td>
<td align="left">2022-01-01 05:00:00 CET</td>
<td align="left">hourly</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">0, 0, 0, 0, 0, 0, 0, 0</td>
<td align="left">0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0</td>
<td align="left">Europe/Paris</td>
<td align="right">NA</td>
<td align="left">2022-01-01</td>
<td align="right">5</td>
<td align="left">saturday</td>
<td align="left">TRUE</td>
<td align="left">Vacances de Noël</td>
<td align="left">RteVitre-06</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="right">-1</td>
<td align="left">9000001844 - RteVitre-06</td>
<td align="right">9000001844</td>
<td align="left">2022-01-01 06:00:00 CET</td>
<td align="left">hourly</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">0, 0, 0, 0, 0, 0, 0, 0</td>
<td align="left">0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0</td>
<td align="left">Europe/Paris</td>
<td align="right">NA</td>
<td align="left">2022-01-01</td>
<td align="right">6</td>
<td align="left">saturday</td>
<td align="left">TRUE</td>
<td align="left">Vacances de Noël</td>
<td align="left">RteVitre-06</td>
<td align="left">FALSE</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="period-availability-for-your-segments">Period availability for your segments<a class="anchor" aria-label="anchor" href="#period-availability-for-your-segments"></a>
</h2>
<p>Road segment-specific sensors do not operate continuously; they are
limited by daylight duration and may also face other external issues
(being unplugged, falling, software problems, etc.). The data collected
during a period may not be continuous and could have interruptions
ranging from an hour to several days.</p>
<p>To visualize traffic, it is important to be aware of the operating
periods of the sensors being analyzed, as well as the quality of their
data. The data reliability is provided through the uptime indicator.
Uptime, ranging from 0 to 1, corresponds to the percentage of time
during which the camera is actively counting passages. Following
Telraam’s recommendations, here an uptime lower than 0.5 is considered
associated with poor-quality data.</p>
<p>The graphical representation below, obtained using the
<code><a href="../reference/gg_availability.html">gg_availability()</a></code> function, provides an overview of data
availability and quality for different sensors over the entire period.
This indicator is calculated over daytime hours (between 5 a.m. and 8
p.m.) when the Telraam sensor is operational. It represents the average
uptime during these hours. It illustrates the daily average uptime
evolution: the higher this value, the better the data quality for that
sensor on the respective day. Its purpose is to assist you in selecting
study periods.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/gg_availability.html">gg_availability</a></span><span class="op">(</span><span class="va">traffic</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="data-visualization_files/figure-html/unnamed-chunk-4-1.png" width="700"></p>
<p>On this graph, for example, we can observe through black time slots
that the camera on the segment ‘ParisArcEnCiel-05’ did not report any
data at the end of June 2022 and at the end of the year 2022. We can
also notice that the average uptime is higher during the summer period.
This illustrates the fact that the duration of daylight, and therefore
the possible filming period, is longer in summer.</p>
<p><strong>All the graphs generated from the functions presented below
are based on data filtered according to this <code>uptime</code>
parameter: only hours with an <code>uptime &gt; 0.5</code> are retained.
This filter is not editable at the moment and ensures that the data
considered have a sufficient level of reliability.</strong></p>
</div>
<div class="section level2">
<h2 id="traffic">Traffic<a class="anchor" aria-label="anchor" href="#traffic"></a>
</h2>
<div class="section level3">
<h3 id="traffic-evolution">Traffic evolution<a class="anchor" aria-label="anchor" href="#traffic-evolution"></a>
</h3>
<p>Once you have identified the specific period you want to analyze, you
may want to observe the evolution of traffic trends over time.
<code><a href="../reference/gg_traffic_evolution.html">gg_traffic_evolution()</a></code> enables the representation of
traffic for a particular period, aggregated for all or some segments,
for a specific direction, or aggregated for both, and aggregated for all
transportation modes or for selected ones.</p>
<p>Without specifying any options, you can view the traffic evolution of
cars and heavy vehicles for all segments over the entire period. By
default, a smoothing curve (based on a GAM model with cubic spline) is
used to represent the trend.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/gg_traffic_evolution.html">gg_traffic_evolution</a></span><span class="op">(</span><span class="va">traffic</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="data-visualization_files/figure-html/unnamed-chunk-5-1.png" width="700"></p>
<p>You can specify a date range, one or more segments, different
transportation modes or directions and choose whether you want a
smoothing curve or not. By default, the aggregation is done by day, but
you can obtain more precise information by setting the
<code>agg_day</code> parameter to <code>FALSE</code> to aggregate by
hour.</p>
<p>Below is an example of all these possible filters and parameters
:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/gg_traffic_evolution.html">gg_traffic_evolution</a></span><span class="op">(</span><span class="va">traffic</span>,</span>
<span>                       date_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'2022-01-01'</span>,<span class="st">'2022-03-01'</span><span class="op">)</span>,</span>
<span>                       segment <span class="op">=</span> <span class="st">'RteVitre-06'</span>,</span>
<span>                       mode <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'car'</span>,<span class="st">'pedestrian'</span><span class="op">)</span>,</span>
<span>                       direction <span class="op">=</span> <span class="st">'lft'</span>,</span>
<span>                       smoothed <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                       agg_day <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="data-visualization_files/figure-html/unnamed-chunk-6-1.png" width="700"></p>
</div>
<div class="section level3">
<h3 id="average-traffic">Average traffic<a class="anchor" aria-label="anchor" href="#average-traffic"></a>
</h3>
<div class="section level4">
<h4 id="average-traffic-per-weekday">Average traffic per weekday<a class="anchor" aria-label="anchor" href="#average-traffic-per-weekday"></a>
</h4>
<p>The traffic varies according to the days of the week, which can serve
as an analytical window to understand territorial mobility. The
<code><a href="../reference/gg_traffic_avg.html">gg_traffic_avg()</a></code> function allows to examine the average
behavior per day of the week. It can be used globally or more
specifically (over a specific period, on a segment or set of segments,
for a specific direction, for a particular transportation mode).</p>
<p>By default, this function provides the average traffic per day of the
week :</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/gg_traffic_avg.html">gg_traffic_avg</a></span><span class="op">(</span><span class="va">traffic</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="data-visualization_files/figure-html/unnamed-chunk-7-1.png" width="700"></p>
<p>Here, for instance, one can observe several different traffic
dynamics, with weekdays exhibiting similar patterns and weekends
displaying different ones (such as a shifted morning peak and smoother
traffic throughout the day).</p>
<p>As before, it’s possible to select a specific period, a specific
segment, a mode of transportation, a direction, or a day of the week
according to the needs of your study.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/gg_traffic_avg.html">gg_traffic_avg</a></span><span class="op">(</span><span class="va">traffic</span>,</span>
<span>                 date_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'2022-07-01'</span>,<span class="st">'2022-09-01'</span><span class="op">)</span>,</span>
<span>                 segment <span class="op">=</span> <span class="st">'RteVitre-06'</span>,</span>
<span>                 mode <span class="op">=</span> <span class="st">'car'</span>,</span>
<span>                 direction <span class="op">=</span> <span class="st">'rgt'</span>,</span>
<span>                 weekday <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'monday'</span>,<span class="st">'friday'</span><span class="op">)</span></span>
<span>                 <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="data-visualization_files/figure-html/unnamed-chunk-8-1.png" width="700"></p>
<p>This representation, for instance, allows us to see that the traffic
in one direction on this segment is much heavier in the evening than in
the morning, and even more so on Fridays compared to Mondays.</p>
</div>
<div class="section level4">
<h4 id="average-traffic-per-segment">Average traffic per segment<a class="anchor" aria-label="anchor" href="#average-traffic-per-segment"></a>
</h4>
<p>The same function <code><a href="../reference/gg_traffic_avg.html">gg_traffic_avg()</a></code> can be used to
calculate the average traffic per segment and compare segments with each
other. To do this, simply use the parameter <code>'aggregated_by'</code>
and replace the default value (<code>'weekday'</code>) with
<code>'segment_name'</code>, as shown in the example below. The function
will then plot the average traffic according to the time of day, but
this time by road segment.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/gg_traffic_avg.html">gg_traffic_avg</a></span><span class="op">(</span><span class="va">traffic</span>, </span>
<span>                 aggregated_by <span class="op">=</span> <span class="st">"segment_name"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="data-visualization_files/figure-html/unnamed-chunk-9-1.png" width="700"></p>
<p>This representation allows us to realize differences in traffic, both
in terms of volumes and dynamics.</p>
<p>Similarly to before, it is possible to specify a period, a direction
of travel, a mode of transportation, or here a day of the week.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/gg_traffic_avg.html">gg_traffic_avg</a></span><span class="op">(</span><span class="va">traffic</span>, </span>
<span>                 aggregated_by <span class="op">=</span> <span class="st">'segment_name'</span>,</span>
<span>                 weekday <span class="op">=</span> <span class="st">'sunday'</span>,</span>
<span>                 mode <span class="op">=</span> <span class="st">'car'</span>,</span>
<span>                 direction <span class="op">=</span> <span class="st">'rgt'</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="data-visualization_files/figure-html/unnamed-chunk-10-1.png" width="700"></p>
</div>
<div class="section level4">
<h4 id="average-traffic-per-direction">Average traffic per direction<a class="anchor" aria-label="anchor" href="#average-traffic-per-direction"></a>
</h4>
<p>This function <code><a href="../reference/gg_traffic_avg.html">gg_traffic_avg()</a></code> can also be used to
compare directions of travel, using the parameter
<code>aggregated_by = "direction"</code> as shown in the example below.
This can be particularly useful within the same road segment to observe
commuter traffic. As before, it is still possible to filter by modes of
transportation, days of the week, or segments.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/gg_traffic_avg.html">gg_traffic_avg</a></span><span class="op">(</span><span class="va">traffic</span>, </span>
<span>                 aggregated_by <span class="op">=</span> <span class="st">'direction'</span>,</span>
<span>                 weekday <span class="op">=</span> <span class="st">'monday'</span>,</span>
<span>                 mode <span class="op">=</span> <span class="st">'car'</span>,</span>
<span>                 segments <span class="op">=</span> <span class="st">'RteVitre-06'</span></span>
<span>                 <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="data-visualization_files/figure-html/unnamed-chunk-11-1.png" width="700"></p>
<p>This example is typical of a route with significant commuter traffic,
with heavy traffic in one direction in the morning and in the other
direction in the evening.</p>
</div>
<div class="section level4">
<h4 id="average-traffic-per-mode">Average traffic per mode<a class="anchor" aria-label="anchor" href="#average-traffic-per-mode"></a>
</h4>
<p>Finally, the function <code><a href="../reference/gg_traffic_avg.html">gg_traffic_avg()</a></code> allows for
comparing modes of transportation with each other, particularly to
observe differences in volumes or dynamics, using the parameter
<code>aggregated_by = "direction"</code> as shown in the example below.
As before, it’s possible to filter by directions, days of the week,
segments, hours, and of course, to select the modes of
transportation</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/gg_traffic_avg.html">gg_traffic_avg</a></span><span class="op">(</span><span class="va">traffic</span>, </span>
<span>                 aggregated_by <span class="op">=</span> <span class="st">'mode'</span>,</span>
<span>                 mode <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'heavy'</span>,<span class="st">'car'</span><span class="op">)</span>,</span>
<span>                 segment <span class="op">=</span> <span class="st">'RteVitre-06'</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="data-visualization_files/figure-html/unnamed-chunk-12-1.png" width="700"></p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="car-speed">Car speed<a class="anchor" aria-label="anchor" href="#car-speed"></a>
</h2>
<p>Telraam sensors offer speed estimation for cars on two levels :</p>
<ul>
<li>the estimated car speed distribution (ranging from 0 to 120+ km/h),
in 10 or 5 km/h bins ;</li>
<li>
<strong>v85</strong>, the estimated car speed limit in km/h that 85%
of all cars respect. 15% of drivers drive faster than this
<strong>v85</strong> indicator.</li>
</ul>
<p>Telraam specifies that all these speed-related measurements have
biases: their accuracy is likely not better than +/- 10%. Moreover,
these measurements pertain exclusively to cars and do not include other
modes of transportation.</p>
<div class="section level4">
<h4 id="car-speed-distribution">Car speed distribution<a class="anchor" aria-label="anchor" href="#car-speed-distribution"></a>
</h4>
<p>The car’s speed distribution can be plotted globally or with filters
(specific period, weekdays or segments) with the function
<code><a href="../reference/gg_car_speed_histogram.html">gg_car_speed_histogram()</a></code>. Refer to documentation for more
information about filters.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/gg_car_speed_histogram.html">gg_car_speed_histogram</a></span><span class="op">(</span><span class="va">traffic</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="data-visualization_files/figure-html/unnamed-chunk-13-1.png" width="700"></p>
<p>This function <code><a href="../reference/gg_car_speed_histogram.html">gg_car_speed_histogram()</a></code> enables you to
compare speed histograms for different segments or weekdays. Below is an
example with a distinction by road segment.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/gg_car_speed_histogram.html">gg_car_speed_histogram</a></span><span class="op">(</span><span class="va">traffic</span>, </span>
<span>                         aggregated_by <span class="op">=</span> <span class="st">'segment_name'</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="data-visualization_files/figure-html/unnamed-chunk-14-1.png" width="700"></p>
<p>In this example, we can observe the difference between the two
segments: on the first segment (<code>ParisArcEnCiel-05</code>), the
speed distribution is more spread out and is characterized by a peak at
very low speeds. The second segment (<code>RteVitre-06</code>) has a
peak distribution in the <code>35-40 km/h</code> class, with values more
concentrated around this range. During this period, 25% of cars were
driving between 35 and 40 km/h on this segment.</p>
<p>Here is an example by weekday with all the available filters.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/gg_car_speed_histogram.html">gg_car_speed_histogram</a></span><span class="op">(</span><span class="va">traffic</span>, </span>
<span>                         weekday <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'monday'</span>,<span class="st">'sunday'</span><span class="op">)</span>,</span>
<span>                         segments <span class="op">=</span> <span class="st">'RteVitre-06'</span>,</span>
<span>                         hours <span class="op">=</span> <span class="fl">17</span><span class="op">:</span><span class="fl">20</span>,</span>
<span>                         aggregated_by <span class="op">=</span> <span class="st">"weekday"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="data-visualization_files/figure-html/unnamed-chunk-15-1.png" width="700"></p>
<p>While the shift is less significant than when distinguishing between
sensors, one can still notice a difference in speed between weekdays,
likely attributable to the traffic dynamics differences observed
earlier.</p>
</div>
<div class="section level4">
<h4 id="v85">v85<a class="anchor" aria-label="anchor" href="#v85"></a>
</h4>
<p><strong>v85</strong> is the estimated car speed limit in km/h that
85% of all cars respect. 15% of drivers drive faster than
<strong>v85</strong>.</p>
<p>The function <code><a href="../reference/gg_car_speed_v85.html">gg_car_speed_v85()</a></code> allows plotting the
evolution of the average of this indicator according to the time of day.
This can be particularly interesting to link with traffic, to observe
possible congestion phenomena</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/gg_car_speed_v85.html">gg_car_speed_v85</a></span><span class="op">(</span><span class="va">traffic</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="data-visualization_files/figure-html/unnamed-chunk-16-1.png" width="700"></p>
<p>As before, it is possible to view this indicator by segment
(<code>aggregated_by = 'segment_name'</code>) or by day of the week
(<code>aggregated_by = 'weekday'</code>). Here’s an example by
segment.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/gg_car_speed_v85.html">gg_car_speed_v85</a></span><span class="op">(</span><span class="va">traffic</span>,</span>
<span>                   aggregated_by <span class="op">=</span> <span class="st">'segment_name'</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="data-visualization_files/figure-html/unnamed-chunk-17-1.png" width="700"></p>
<p>Finally, it is still possible to filter by a specific period or a
particular segment.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/gg_car_speed_v85.html">gg_car_speed_v85</a></span><span class="op">(</span><span class="va">traffic</span>,</span>
<span>                   aggregated_by <span class="op">=</span> <span class="st">'weekday'</span>,</span>
<span>                   date_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'2022-01-01'</span>,<span class="st">'2022-03-01'</span><span class="op">)</span>,</span>
<span>                   segments <span class="op">=</span> <span class="st">'RteVitre-06'</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="data-visualization_files/figure-html/unnamed-chunk-18-1.png" width="700"></p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Lilou Augeray, Ulysse Caromel, Ketsia Guichard, Pascal Irz, Mijin Park, Tanguy Richard, Agis-ta-terre.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
